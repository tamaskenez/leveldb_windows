set(LEVELDB_BUILT_WITH_SNAPPY @SNAPPY_FOUND@)

if ( LEVELDB_BUILT_WITH_SNAPPY )
	find_package(snappy REQUIRED)
	set(LEVELDB_LIBRARIES ${SNAPPY_LIBRARIES})
else()
	unset(LEVELDB_LIBRARIES)
endif()

set(LEVELDB_INCLUDE_DIRS
	${CMAKE_CURRENT_LIST_DIR}/include
)

find_library(LEVELDB_LIBRARY leveldb PATHS ${CMAKE_CURRENT_LIST_DIR}/lib NO_DEFAULT_PATH NO_CMAKE_FIND_ROOT_PATH)
find_library(LEVELDB_LIBRARY_DEBUG leveldb_d PATHS ${CMAKE_CURRENT_LIST_DIR}/lib NO_DEFAULT_PATH NO_CMAKE_FIND_ROOT_PATH)

if(IS_DIRECTORY ${LEVELDB_INCLUDE_DIRS} AND LEVELDB_LIBRARY AND LEVELDB_LIBRARY_DEBUG)
	list(APPEND LEVELDB_LIBRARIES
		optimized ${LEVELDB_LIBRARY}
		debug ${LEVELDB_LIBRARY_DEBUG}
	)
	set(LEVELDB_FOUND 1)
else()
	unset(LEVELDB_LIBRARIES)
	unset(LEVELDB_INCLUDE_DIRS)
	set(LEVELDB_FOUND 0)
endif()
